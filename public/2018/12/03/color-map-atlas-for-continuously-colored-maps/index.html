<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.52" />


<title>Color Map Atlas for Continuously Colored Maps - Locus: Richard Careaga</title>
<meta property="og:title" content="Color Map Atlas for Continuously Colored Maps - Locus: Richard Careaga">



  



<link rel="stylesheet" type="text/css" href="https://cloud.typography.com/73384/6600392/css/fonts.css" />




<link href='//cdn.bootcss.com/highlight.js/9.11.0/styles/github.min.css' rel='stylesheet' type='text/css' />



<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">

<link rel="stylesheet" href="/css/custom.css">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/logo.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="https://github.com/technocrat">GitHub</a></li>
    
    <li><a href="https://technocrat.github.io/_book/">Portfolio</a></li>
    
    <li><a href="/quotes/">Quotes</a></li>
    
    <li><a href="https://linkedin.com/in/richardcareaga">LinkedIn</a></li>
    
    <li><a href="https://twitter.com/technocrat">Twitter</a></li>
    
    <li><a href="/employment/">Employment</a></li>
    
    <li><a href="https://www.r-bloggers.com">RBloggers</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">26 min read</span>
    

    <h1 class="article-title">Color Map Atlas for Continuously Colored Maps</h1>



    
    <span class="article-date">2018/12/03</span>
    

    
    <br>
      
    

    <div class="article-content">
      

<pre><code class="language-r">suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(tidycensus))
suppressPackageStartupMessages(library(munsell))
suppressPackageStartupMessages(library(scales))
suppressPackageStartupMessages(library(sf))

library(knitr)
library(kableExtra)
library(munsell)
library(RColorBrewer)
library(scales) # needed for label = comma
library(sf)
library(tidycensus)
library(tidyverse)

states_pop &lt;- get_estimates(&quot;state&quot;, product = &quot;population&quot;, geometry = TRUE, shift_geo = TRUE) %&gt;% filter(variable == &quot;POP&quot;) %&gt;% filter(GEOID != 11) %&gt;% mutate(geoid = as.integer(GEOID)) %&gt;% select(GEOID, NAME, geoid, value) %&gt;% mutate(POP_TOT = value) %&gt;% select(-value)

# obtain state names, identifier and postal abbreviations
converter &lt;-  read.csv(&quot;https://gist.githubusercontent.com/technocrat/93470bf9abead06ef926/raw/f652f8171374e7808455f42167f5480ea15f7f4e/state_fips_postal.csv&quot;, header = FALSE, stringsAsFactors = FALSE)
converter &lt;-  rename(converter, NAME = V1, geoid = V2, id = V3)
states_key &lt;- as.tibble(converter) %&gt;% filter(id != 'DC') 

plain_theme = theme(axis.text=element_blank()) + 
    theme(panel.background = element_blank(), 
        panel.grid = element_blank(), 
        axis.ticks = element_blank())

no_ylab = ylab(&quot;&quot;) 
no_xlab = xlab(&quot;&quot;)

# obtain 50_state ACS 2017 population estimates for white, non-Hispanic
# requires manual selection on ASC site to limit estimate to that ethnicity
states_ethnic &lt;- get_acs(geography = &quot;state&quot;, variables = &quot;B01001H_001&quot;) %&gt;% filter(GEOID != 11 &amp; GEOID != 72) %&gt;% select(GEOID, NAME, estimate) %&gt;% mutate(WHITE = estimate) %&gt;% select(-estimate)
# bring in states tibble
states_white &lt;- inner_join(states_pop, states_ethnic, by = &quot;GEOID&quot;) %&gt;% rename(NAME = NAME.x) %&gt;% select(-NAME.y)
# add postal abbeviations
states_white &lt;- inner_join(states_white, states_key, by = &quot;NAME&quot;) %&gt;% rename(geoid = geoid.x) %&gt;% select(-geoid.y)
# get locations for state postal code placement
states_centroid_matrix &lt;- st_coordinates(st_centroid(states_pop$geometry))
states_centroid &lt;- as.tibble(states_centroid_matrix) %&gt;% transmute(clong = X, clat = Y) 
# construct a key
geoid &lt;- as.tibble(states_pop$geoid)
colnames(geoid) &lt;- &quot;geoid&quot;
# combine to tibble
states_centroid &lt;- as.tibble(cbind(geoid, states_centroid))
# bring into states tibble and create columns for position adjustment
states &lt;- inner_join(states_white, states_centroid, by = &quot;geoid&quot;) %&gt;% mutate(offset_clong = 0, offset_clat = 0)
# read Senate results from 2014, 2016 and 2018 elections
polarity &lt;- as.tibble(read.csv(&quot;pini/data/AllSenate.csv&quot;,stringsAsFactors = FALSE))
polarity &lt;- polarity %&gt;% mutate(shade = pct * sign/100)
polarity &lt;- polarity %&gt;% group_by(NAME) %&gt;% summarise(POLARITY = mean(shade))
states &lt;- inner_join(states, polarity, by = &quot;NAME&quot;)
</code></pre>

<pre><code class="language-r"># create blank base map with state id codes
blank_map &lt;- ggplot(states) +
  geom_sf(color = &quot;gray&quot;, size = 0.2, fill = NA) +
  coord_sf() + 
  plain_theme +
  theme(panel.grid.major = element_line(colour = &quot;white&quot;))
## not run
##  visually inspect positions that need adjustment
##blank_map
# create extract with only those states
movers &lt;- states %&gt;% filter(id == &quot;MI&quot; | id == &quot;RI&quot; | id == &quot;MD&quot; | id == &quot;FL&quot; | id == &quot;LA&quot;)
#blank_map + geom_text(data = movers, aes(x=clong , clat, label = id), size = 2.5) + no_xlab + no_ylab
# check remaining
stayers &lt;- states %&gt;% filter(id != &quot;MI&quot; &amp; id != &quot;RI&quot; &amp; id != &quot;MD&quot; &amp; id != &quot;FL&quot; &amp; id != &quot;LA&quot;)
#blank_map + geom_text(data = stayers, aes(x=clong , clat, label = id), size = 2.5) + no_xlab + no_ylab
# redefine movers if needed
# trial and error; units are meters 10000 m is approximately 6 miles
movers$offset_clong[1] &lt;-  -  30000  #LA
movers$offset_clong[2] &lt;-  +  80000  #FL
movers$offset_clat[3] &lt;-   +  10000  #MD
movers$offset_clong[3] &lt;-  -  20000  #MD
movers$offset_clat[4] &lt;-   -  70000  #MI
movers$offset_clong[4] &lt;-  + 100000  #MI
movers$offset_clat[5] &lt;-   -  75000  #RI
movers$offset_clong[5] &lt;-  +  25000  #RI
#check and adjust as required
#blank_map + geom_text(data = movers, aes(x=clong + offset_clong, clat + offset_clat, label = id), size = 2.5) + no_xlab + no_ylab
# integrate movers back into states -- indices must be those in states, not movers: use states %&gt;% print(n = Inf) to get complete list; indices are in the first, unlabelled column, on the left
states$offset_clong[9] &lt;-  - 30000  #LA
states$offset_clong[24] &lt;- + 80000  #FL
states$offset_clat[27] &lt;-  + 10000  #MD
states$offset_clong[27] &lt;- - 20000  #MD
states$offset_clat[38] &lt;-  - 70000  #MI
states$offset_clong[38] &lt;- + 100000 #MI
states$offset_clat[44] &lt;-  - 75000  #RI
states$offset_clong[44] &lt;- + 25000  #RI

basemap &lt;- blank_map + geom_text(data = states, aes(x=clong + offset_clong, clat + offset_clat, label = id), size = 2.5) + no_xlab + no_ylab

blank_map_90 &lt;- ggplot(states) +
  geom_sf(color = &quot;white&quot;, size = 0.2, fill = &quot;grey&quot;) +
  coord_sf() + 
  plain_theme +
  theme(panel.grid.major = element_line(colour = &quot;white&quot;))

basemap_90 &lt;- blank_map_90 + geom_text(data = states, aes(x=clong + offset_clong, clat + offset_clat, label = id), size = 2.5) + no_xlab + no_ylab

q2_2018_gdp &lt;- as.tibble(read_csv(&quot;pini/data/Q2_2018_GDP.csv&quot;))
econ &lt;- inner_join(q2_2018_gdp, states, by = &quot;NAME&quot;) %&gt;% mutate(GDP = Q22018_GDP) %&gt;% mutate(capita = GDP/(POP_TOT/1e5)) %&gt;% select(NAME, id, GDP, capita, clong, clat, offset_clong, offset_clat, geometry)

plain_theme = theme(axis.text=element_blank()) + 
    theme(panel.background = element_blank(), 
        panel.grid = element_blank(), 
        axis.ticks = element_blank())

no_ylab = ylab(&quot;&quot;) 
no_xlab = xlab(&quot;&quot;)

pal_lab &lt;- &quot;&quot;
box_lab &lt;- function(pal) {
  annotate(&quot;label&quot;, label = pal, x = 1440000, y = 1440000, size = 6, colour = &quot;Black&quot;)
}

econ_source &lt;- '&quot;Source: Bureau of Economic Analysis, Gross Domestic Product By State, 2nd Quarter 2018 https://goo.gl/Jc6XyK&quot;'

gdp_table &lt;- econ %&gt;% select(NAME,GDP)
gdp_pop &lt;- inner_join(gdp_table, states, by = &quot;NAME&quot;) %&gt;% select(NAME, id, GDP, clong, clat, offset_clong, offset_clat, geometry)

pop_map &lt;- ggplot(states) + geom_sf(aes(fill = POP_TOT)) +   
coord_sf() +
plain_theme +
theme(panel.grid.major = element_line(colour = &quot;white&quot;)) +
ggtitle(&quot;ASC 2017 Estimate of Population&quot;) +
  guides(fill = guide_legend(title = &quot;Population&quot;))  + geom_text(data = states, aes(x=clong + offset_clong , clat + offset_clat, label = id), size = 2.5) +  geom_text(data = states, aes(x=clong + offset_clong , clat + offset_clat, label = id), size = 2.5) + no_ylab + no_xlab

econ_pop &lt;- ggplot(gdp_pop) + geom_sf(aes(fill = GDP)) +  
coord_sf() +
plain_theme +
theme(panel.grid.major = element_line(colour = &quot;white&quot;)) +
ggtitle(&quot;Second Quarter 2018 State GDP&quot;) +
  guides(fill = guide_legend(title = &quot;GDP&quot;))  + geom_text(data = states, aes(x=clong + offset_clong , clat + offset_clat, label = id), size = 2.5) +  geom_text(data = states, aes(x=clong + offset_clong , clat + offset_clat, label = id), size = 2.5) + no_ylab + no_xlab

econ_map &lt;- ggplot(econ) + geom_sf(aes(fill = capita)) +  
coord_sf() +
plain_theme +
theme(panel.grid.major = element_line(colour = &quot;white&quot;)) +
ggtitle(&quot;Second Quarter 2018 State GDP per 100,000 Population&quot;) +
  guides(fill = guide_legend(title = &quot;GDP/100,000&quot;))  + geom_text(data = states, aes(x=clong + offset_clong , clat + offset_clat, label = id), size = 2.5) +  geom_text(data = states, aes(x=clong + offset_clong , clat + offset_clat, label = id), size = 2.5) + no_ylab + no_xlab
</code></pre>

<pre><code class="language-r"># default with alpha default
Alpha_default &lt;- scale_alpha_continuous(range = c(0.1, 1))
Alpha_75      &lt;- scale_alpha_continuous(range = c(0.1, 0.75))
Alpha_50      &lt;- scale_alpha_continuous(range = c(0.1, 0.50))

magma         &lt;- scale_fill_viridis_c(option=&quot;magma&quot;)
inferno       &lt;- scale_fill_viridis_c(option=&quot;inferno&quot;)
plasma        &lt;- scale_fill_viridis_c(option=&quot;plasma&quot;)
viridis       &lt;- scale_fill_viridis_c(option=&quot;viridis&quot;)
cividis       &lt;- scale_fill_viridis_c(option=&quot;cividis&quot;)

munsell_brown &lt;- scale_fill_gradient(low = &quot;#FBF7F6&quot;, high =  &quot;#A97263&quot;, space = &quot;Lab&quot;, na.value = &quot;grey50&quot;, guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

# RColorBrewer

BluesNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Blues&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BluesPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Blues&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BuGnNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BuGn&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BuGnPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BuGn&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BuPuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BuPu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BuPuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BuPu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GnBuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;GnBu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GnBuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;GnBu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GreensNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Greens&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GreensPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Greens&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GreysNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Greys&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GreysPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Greys&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

OrangesNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Oranges&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

OrangesPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Oranges&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

OrRdNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;OrRd&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

OrRdPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;OrRd&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuBuGnNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuBuGn&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuBuGnPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuBuGn&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuBuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuBu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuBuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuBu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuRdNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuRd&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuRdPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuRd&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PurplesNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Purples&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PurplesPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Purples&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdPuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdPu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdPuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdPu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RedsNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Reds&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RedsPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Reds&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlGnBuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlGnBu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlGnBuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlGnBu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlGnNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlGn&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlGnPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlGn&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlOrBrNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlOrBr&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlOrBrPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlOrBr&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlOrRdNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlOrRd&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlOrRdPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlOrRd&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)


BrBGNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BrBG&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BrBGPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BrBG&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PiYGNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PiYG&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PiYGPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PiYG&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PRGnNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PRGn&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PRGnPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PRGn&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuOrNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuOr&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuOrPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuOr&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdBuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdBu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdBuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdBu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdGyNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdGy&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdGyPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdGy&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdYlBuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdYlBu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdYlBuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdYlBu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdYlGnNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdYlGn&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdYlGnPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdYlGn&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

SpectralNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Spectral&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

SpectralPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Spectral&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

AccentNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Accent&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

AccentPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Accent&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Dark2Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Dark2&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Dark2Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Dark2&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PairedNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Paired&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PairedPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Paired&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Pastel1Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Pastel1&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Pastel1Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Pastel1&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Pastel2Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Pastel2&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Pastel2Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Pastel2&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set1Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set1&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set1Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set1&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set2Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set2&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set2Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set2&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set3Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set3&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set3Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set3&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)
</code></pre>

<h1 id="color-design-and-communication">Color, Design and Communication</h1>

<p><a href="https://goo.gl/nKK8uq">Graphic design standards</a>, especially for color, are an official Good Thing. Branding, visual cueing, consistency. <a href="https://goo.gl/wae21u">Map colors are hard</a>, especially when dealing with continuous data.</p>

<h1 id="an-example-of-continuous-data">An example of continuous data</h1>

<p>The U.S. Bureau of Economic Analysis publishes quarterly statistics on gross domestic product by state.<sup class="footnote-ref" id="fnref:r-econ-source"><a href="#fn:r-econ-source">1</a></sup>. For the second quarter 2018, it provided the following.</p>

<pre><code class="language-r">kable(gdp_table, format.args = list(big.mark = &quot;,&quot;), caption = &quot;2018 Second Quarter GDP for the 50 States&quot;)  %&gt;% kable_styling(bootstrap_options = &quot;striped&quot;, full_width = F) 
</code></pre>

<p>The two obvious things from the chart are that the numbers differ and that in general the larger states in population are also the larger states in GDP. Whenever making maps of continuous data, they will almost always turn out like this, unless there are marked regional differences and you take the default option.</p>

<pre><code class="language-r">pop_map
</code></pre>

<p>Here is the GDP data, also with the default option.</p>

<pre><code class="language-r">econ_pop
</code></pre>

<h1 id="three-problems-one-major-one-important-and-one-nuisance">Three Problems: One Major, One Important and One Nuisance</h1>

<ul>
<li>Major: The GDP map doesn&rsquo;t tell you anything you could not have guessed from the population map</li>
<li>You can see subtle differences in shade, but there are too many, and a small portion of the population is blue colorblind.</li>
<li>Nuisance: Can&rsquo;t see the state names against the dark background</li>
</ul>

<h2 id="the-major-problem-counts-need-transformation">The Major Problem: Counts Need Transformation</h2>

<p>If we are looking for more interesting differences among states, we should put them on a common footing, so that population size alone doesn&rsquo;t dominate the effects. For disease, as an example, cases per hundred thousand is commonly used. Here&rsquo;s what the GDP data looks like on that basis.</p>

<pre><code class="language-r">econ_map
</code></pre>

<h2 id="the-important-problem">The Important Problem</h2>

<p>The default continuous blue scale, even with transformed data, still requires squinting to distinguish different values.</p>

<h3 id="alpha-adjustment">Alpha adjustment</h3>

<p>We can tinker with that by applying an alpha (density) filter.</p>

<pre><code class="language-r">pal_lab &lt;- &quot;Alpha_default&quot;
econ_map + Alpha_default + box_lab(pal_lab)
</code></pre>

<p>The signature for <code>scale_alpha_continuous</code> is</p>

<p><code>
     scale_alpha_continuous(&hellip;, range = c(0.1, 1))
</code></p>

<p>The range can be narrowed</p>

<pre><code class="language-r">pal_lab &lt;- &quot;Alpha_75&quot;
econ_map + Alpha_75 + box_lab(pal_lab)
</code></pre>

<p><code>
    scale_alpha_continuous(range = c(0.1, 0.75))
</code></p>

<p>or even further lightened</p>

<p><code>
    scale_alpha_continuous(range = c(0.1, 0.50))
</code></p>

<pre><code class="language-r">pal_lab = &quot;Alpha_50&quot;
econ_map + Alpha_50 +  box_lab(pal_lab)
</code></pre>

<h3 id="beyond-blue-palette-solutions">Beyond Blue Palette Solutions</h3>

<h4 id="viridis-palette">Viridis palette</h4>

<p>Five bright (some might say garish) scales are available.</p>

<pre><code class="language-r">pal_lab = &quot;magma&quot;
econ_map + magma +  box_lab(pal_lab)
</code></pre>

<p><code>scale_fill_viridis_c(option=&quot;magma&quot;)</code></p>

<pre><code class="language-r">pal_lab = &quot;inferno&quot;
econ_map + inferno +  box_lab(pal_lab)
</code></pre>

<p><code>scale_fill_viridis_c(option=&quot;inferno&quot;)</code></p>

<pre><code class="language-r">pal_lab = &quot;plasma&quot;
econ_map + plasma +  box_lab(pal_lab)
</code></pre>

<p><code>scale_fill_viridis_c(option=&quot;plasma&quot;)</code></p>

<pre><code class="language-r">pal_lab = &quot;viridis&quot;
econ_map + viridis +  box_lab(pal_lab)
</code></pre>

<p><code>scale_fill_viridis_c(option=&quot;viridis&quot;)</code></p>

<pre><code class="language-r">pal_lab = &quot;cividis&quot;
econ_map + scale_fill_viridis_c(option=&quot;cividis&quot;) + box_lab(pal_lab)
</code></pre>

<p><code>scale_fill_viridis_c(option=&quot;viridis&quot;)</code></p>

<p>Fortunately, the palette can be muted with an alpha density filter</p>

<pre><code class="language-r">pal_lab = &quot;cividis50&quot;
econ_map + scale_fill_viridis_c(alpha = 0.50, option=&quot;cividis&quot;) + box_lab(pal_lab)
</code></pre>

<p><code>scale_fill_viridis_c(alpha = 0.50, option=&quot;cividis&quot;)</code></p>

<h4 id="ggplot-s-scale-fill-gradient-can-also-over-ride-default-colors">ggplot&rsquo;s <code>scale_fill_gradient</code> can also over-ride default colors</h4>

<p>The signature of <code>scale_fill_gradient</code> is</p>

<p><code>scale_fill_gradient(..., low = &quot;#132B43&quot;, high = &quot;#56B1F7&quot;, space = &quot;Lab&quot;, na.value = &quot;grey50&quot;, guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)</code></p>

<p>in the blue range. You can adjust that with the arguments to low and high. The following example uses #FBF7F6 and #A97263.</p>

<pre><code class="language-r">pal_lab = &quot;munsell_brown&quot;
econ_map + munsell_brown + box_lab(pal_lab)
</code></pre>

<p>How did I come up with those particular values?</p>

<p><code>library(munsell)</code></p>

<p><code>show_col(seq_gradient_pal(&quot;white&quot;, mnsl(&quot;10R 4/6&quot;))(x))(seq(0, 1, length.out = 25)))</code></p>

<pre><code class="language-r">show_col(seq_gradient_pal(&quot;white&quot;, mnsl(&quot;10R 4/6&quot;))(seq(0, 1, length.out = 25)))
</code></pre>

<p>This approach, and other do-it-yourself color palette selection approaches can become a time sink.See <a href="https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/colorPaletteCheatsheet.pdf">R color cheatsheet </a> A better approach is to have a selection of pre-made color cards, and try them out until one of them highlights the differences you are trying to show.</p>

<h4 id="rcolorbrewer">RColorBrewer</h4>

<p>This set of palettes plays well with <code>ggplot</code> and should answer most needs.</p>

<p><img src="pini/figures/RColorBrewer.png" alt="RColorBrewer" /></p>

<p>The three sections are for sequential (<em>i.e.,</em> continuous), divergent (a neutral color in the center progressing toward more intense colors in both direction) or qualitative, for discrete data but coercible into continuous data.</p>

<p>Through <code>ggplot</code>&rsquo;s <code>scale_colour_distiller</code> function, any of these can be smoothly interpolated into a six-interval scale.</p>

<p>All of the scales can be flipped, working from left-to-right on the palette or from right-to-left. Direction is indicated by  <code>direction = -1</code> or <code>direction = 1</code>.</p>

<p>Color abbreviations:</p>

<ul>
<li>Yl = Yellow</li>
<li>Or = Orange</li>
<li>Rd = Red</li>
<li>Br = Brown</li>
<li>Gn = Green</li>
<li>Pu = Purple</li>
<li>Bu = Blue</li>
</ul>

<p>There are also:</p>

<ul>
<li>Reds</li>
<li>Oranges</li>
<li>Greys</li>
<li>Greens</li>
<li>Blues</li>
</ul>

<pre><code class="language-r">pal_lab &lt;- &quot;YlOrRd&quot; 
econ_map + YlOrRdNeg1 + box_lab(pal_lab)
</code></pre>

<p>The signature for <code>scale_colour_distiller</code> is</p>

<p><code>
scale_fill_distiller(type = &ldquo;seq&rdquo;, palette = &ldquo;YlOrRd&rdquo;, direction = -1, labels = comma,  guide = &ldquo;colourbar&rdquo;, aesthetics = &ldquo;fill&rdquo;)
</code></p>

<pre><code class="language-r">pal_lab &lt;- &quot;Blues&quot;
econ_map + BluesNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Blues&quot;
econ_map + BluesPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;BuGn&quot;
econ_map + BuGnNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;BuGn&quot;
econ_map + BuGnPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;BuPu&quot;
econ_map + BuPuNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;BuPu&quot;
econ_map + BuPuPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;GnBu&quot;
econ_map + GnBuNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;GnBu&quot;
econ_map + GnBuPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Greens&quot;
econ_map + GreensNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Greens&quot;
econ_map + GreensPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Greys&quot;
econ_map + GreysNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Greys&quot;
econ_map + GreysPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Oranges&quot;
econ_map + OrangesNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Oranges&quot;
econ_map + OrangesPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;OrRd&quot;
econ_map + OrRdNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;OrRd&quot;
econ_map + OrRdPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PuBu&quot;
econ_map + PuBuNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PuBu&quot;
econ_map + PuBuPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PuBuGn&quot;
econ_map + PuBuGnNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PuBuGn&quot;
econ_map + PuBuGnPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PuRd&quot;
econ_map + PuRdNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PuRd&quot;
econ_map + PuRdPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Purples&quot;
econ_map + PurplesNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Purples&quot;
econ_map + PurplesPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;RdPu&quot;
econ_map + RdPuNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;RdPu&quot;
econ_map + RdPuPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Reds&quot;
econ_map + RedsNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Reds&quot;
econ_map + RedsPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;YlGn&quot;
econ_map + YlGnNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;YlGn&quot;
econ_map + YlGnPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;YlGnBu&quot;
econ_map + YlGnBuNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;YlGnBu&quot;
econ_map + YlGnBuPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;YlOrBr&quot;
econ_map + YlOrBrNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;YlOrBr&quot;
econ_map + YlOrBrPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;YlOrRd&quot;
econ_map + YlOrRdNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;YlOrRd&quot;
econ_map + YlOrRdPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;BrBG&quot;
econ_map + BrBGNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;BrBG&quot;
econ_map + BrBGPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PiYG&quot;
econ_map + PiYGNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PiYG&quot;
econ_map + PiYGPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PRGn&quot;
econ_map + PRGnNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PRGn&quot;
econ_map + PRGnPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PuOr&quot;
econ_map + PuOrNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;PuOr&quot;
econ_map + PuOrPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;RdBu&quot;
econ_map + RdBuNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;RdBu&quot;
econ_map + RdBuPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;RdGy&quot;
econ_map + RdGyNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;RdGy&quot;
econ_map + RdGyPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;RdYlBu&quot;
econ_map + RdYlBuNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;RdYlBu&quot;
econ_map + RdYlBuPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;RdYlGn&quot;
econ_map + RdYlGnNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;RdYlGn&quot;
econ_map + RdYlGnPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Spectral&quot;
econ_map + SpectralNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Spectral&quot;
econ_map + SpectralPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Accent&quot;
econ_map + AccentNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Accent&quot;
econ_map + AccentPos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Dark&quot;
econ_map + Dark2Neg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Dark2&quot;
econ_map + Dark2Neg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Paired&quot;
econ_map + PairedNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Paired&quot;
econ_map + PairedNeg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Pastel1&quot;
econ_map + Pastel1Neg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Pastel1&quot;
econ_map + Pastel1Pos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Pastel2&quot;
econ_map + Pastel2Neg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Pastel2&quot;
econ_map + Pastel2Pos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Set1&quot;
econ_map + Set1Neg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Set1&quot;
econ_map + Set1Pos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Set2&quot;
econ_map + Set2Neg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Set2&quot;
econ_map + Set2Pos1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Set3&quot;
econ_map + Set3Neg1 + box_lab(pal_lab)
</code></pre>

<pre><code class="language-r">pal_lab &lt;- &quot;Set3&quot;
econ_map + Set3Pos1 + box_lab(pal_lab)
</code></pre>

<h2 id="palette-snippets">Palette Snippets</h2>

<p>Usage `ggplot_map_object + [name of color scale]</p>

<p>Alpha_default &lt;- scale_alpha_continuous(range = c(0.1, 1))
    Alpha_75      &lt;- scale_alpha_continuous(range = c(0.1, 0.75))
    Alpha_50      &lt;- scale_alpha_continuous(range = c(0.1, 0.50))</p>

<pre><code>magma         &lt;- scale_fill_viridis_c(option=&quot;magma&quot;)
inferno       &lt;- scale_fill_viridis_c(option=&quot;inferno&quot;)
plasma        &lt;- scale_fill_viridis_c(option=&quot;plasma&quot;)
viridis       &lt;- scale_fill_viridis_c(option=&quot;viridis&quot;)
cividis       &lt;- scale_fill_viridis_c(option=&quot;cividis&quot;)

munsell_brown &lt;- scale_fill_gradient(low = &quot;#FBF7F6&quot;, high =  &quot;#A97263&quot;, space = &quot;Lab&quot;, na.value = &quot;grey50&quot;, guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

# RColorBrewer

BluesNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Blues&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BluesPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Blues&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BuGnNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BuGn&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BuGnPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BuGn&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BuPuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BuPu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BuPuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BuPu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GnBuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;GnBu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GnBuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;GnBu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GreensNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Greens&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GreensPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Greens&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GreysNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Greys&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

GreysPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Greys&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

OrangesNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Oranges&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

OrangesPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Oranges&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

OrRdNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;OrRd&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

OrRdPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;OrRd&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuBuGnNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuBuGn&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuBuGnPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuBuGn&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuBuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuBu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuBuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuBu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuRdNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuRd&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuRdPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuRd&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PurplesNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Purples&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PurplesPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Purples&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdPuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdPu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdPuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdPu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RedsNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Reds&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RedsPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Reds&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlGnBuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlGnBu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlGnBuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlGnBu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlGnNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlGn&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlGnPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlGn&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlOrBrNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlOrBr&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlOrBrPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlOrBr&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlOrRdNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlOrRd&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

YlOrRdPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;YlOrRd&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BrBGNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BrBG&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

BrBGPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;BrBG&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PiYGNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PiYG&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PiYGPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PiYG&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PRGnNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PRGn&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PRGnPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PRGn&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuOrNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuOr&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PuOrPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;PuOr&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdBuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdBu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdBuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdBu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdGyNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdGy&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdGyPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdGy&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdYlBuNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdYlBu&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdYlBuPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdYlBu&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdYlGnNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdYlGn&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

RdYlGnPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;RdYlGn&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

SpectralNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Spectral&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

SpectralPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Spectral&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

AccentNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Accent&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

AccentPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Accent&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Dark2Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Dark2&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Dark2Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Dark2&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PairedNeg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Paired&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

PairedPos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Paired&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Pastel1Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Pastel1&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Pastel1Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Pastel1&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Pastel2Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Pastel2&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Pastel2Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Pastel2&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set1Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set1&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set1Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set1&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set2Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set2&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set2Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set2&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set3Neg1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set3&quot;, direction = -1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)

Set3Pos1    &lt;- scale_fill_distiller(type = &quot;seq&quot;, palette = &quot;Set3&quot;, direction = 1, labels = comma,  guide = &quot;colourbar&quot;, aesthetics = &quot;fill&quot;)
</code></pre>

<h2 id="credits">Credits</h2>

<ol>
<li>R Development Core Team (2008). R: A language and environment for statistical computing. R Foundation for Statistical Computing, Vienna, Austria. ISBN 3-900051-07-0, URL <a href="http://www.R-project.org">http://www.R-project.org</a>.</li>
<li>Simon Urbanek and Jeffrey Horner (2015). Cairo: R graphics device using cairo graphics library for creating high-quality bitmap (PNG, JPEG, TIFF), vector (PDF, SVG, PostScript) and display (X11 and Win32) output. R package version 1.5-9. <a href="https://CRAN.R-project.org/package=Cairo">https://CRAN.R-project.org/package=Cairo</a></li>
<li>H. Wickham. ggplot2: Elegant Graphics for Data Analysis. Springer-Verlag New York, 2016</li>
<li>Hao Zhu (2018). kableExtra: Construct Complex Table with &lsquo;kable&rsquo; and Pipe Syntax. R package version 0.9.0. <a href="https://CRAN.R-project.org/package=kableExtra">https://CRAN.R-project.org/package=kableExtra</a></li>
<li>Yihui Xie (2018). knitr: A General-Purpose Package for Dynamic Report Generation in R. R package version 1.20. Yihui Xie (2015) Dynamic Documents with R and knitr. 2nd edition. Chapman and Hall/CRC. ISBN 978-1498716963 Yihui Xie (2014) knitr: A Comprehensive Tool for Reproducible Research in R. In Victoria 6. Stodden, Friedrich Leisch and Roger D. Peng, editors, Implementing Reproducible Computational Research. Chapman and Hall/CRC. ISBN 978-1466561595</li>
<li>Charlotte Wickham (2018). munsell: Utilities for Using Munsell Colours. R package version 0.5.0. <a href="https://CRAN.R-project.org/package=munsell">https://CRAN.R-project.org/package=munsell</a></li>
<li>Erich Neuwirth (2014). RColorBrewer: ColorBrewer Palettes. R package version 1.1-2. <a href="https://CRAN.R-project.org/package=RColorBrewer">https://CRAN.R-project.org/package=RColorBrewer</a></li>
<li>Hadley Wickham (2018). scales: Scale Functions for Visualization. R package version 1.0.0.<a href="https://CRAN.R-project.org/package=scales">https://CRAN.R-project.org/package=scales</a></li>
<li>Pebesma, E., 2018. Simple Features for R: Standardized Support for Spatial Vector Data. The R Journal, <a href="https://journal.r-project.org/archive/2018/RJ-2018-009/">https://journal.r-project.org/archive/2018/RJ-2018-009/</a></li>
<li>Kyle Walker (2018). tidycensus: Load US Census Boundary and Attribute Data as &lsquo;tidyverse&rsquo; and22 &lsquo;sf&rsquo;-Ready Data Frames. R package version 0.8.1. <a href="https://CRAN.R-project.org/package=tidycensus">https://CRAN.R-project.org/package=tidycensus</a></li>
<li>Hadley Wickham (2017). tidyverse: Easily Install and Load the &lsquo;Tidyverse&rsquo;. R package version 1.2.1. <a href="https://CRAN.R-project.org/package=tidyverse">https://CRAN.R-project.org/package=tidyverse</a></li>
</ol>
<div class="footnotes">

<hr />

<ol>
<li id="fn:r-econ-source"><code>r econ_source</code> <a class="footnote-return" href="#fnref:r-econ-source"><sup>[return]</sup></a></li>
</ol>
</div>

    </div>
  </article>

  


</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdn.bootcss.com/highlight.js/9.11.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.11.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="/js/math-code.js"></script>
<script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
  </body>
</html>

